<html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Jumpman, del 3 - Bakgrunnskrolling | Kodeklubben</title><link href="../../assets/style.min.css" rel="stylesheet"/><script type="text/javascript">// convert url relative to current file
// ex: python/index.html -> ../python/index.html
function relative(url) {
  var urlRoot = '../../../codeclub_lesson_builder';
  if (urlRoot !== '') {
    return urlRoot + '/' + url;
  }
  return url;
}</script></head><body><div class="container"><div class="row"><div class="col-xs-12"><div class="top-menu"><div class="navigation"><a href="../../index.html"><span aria-hidden="true" class="glyphicon glyphicon-home"></span><span>&nbsp;</span><span data-i18n="html=layout.home">Forside</span></a><span>&nbsp;/&nbsp;</span><a href="../../scratch">Scratch</a></div><a data-i18n="title=layout.takeTour" title="Ta en omvisning på siden" data-placement="bottom" href="#" class="intro"><span class="icon"></span><span class="text">Intro</span></a><form class="search"><input type="text" data-i18n="placeholder=layout.search" placeholder="Søk" class="form-control"/></form></div></div><div class="search"><div class="results"><h1 data-i18n="html=layout.searchResults">Søkeresultat</h1></div></div><div class="col-xs-12"><header class="clearfix"><img src="../../assets/img/ccno_logo.png" class="logo hidden-xs"/><h1 class="title">Jumpman, del 3 - Bakgrunnskrolling</h1><div class="lesson-icons"><div class="level"><img title="Level 4" src="../../assets/img/level4.png"/><span data-i18n="html=layout.levelNames.4">Ekspert</span></div><a href="../../scratch" class="course"><img src="../logo-white.png"/><span>Scratch</span></a><div class="pdf"><a href="/scratch/jumpman/jumpman_3_skrolling.pdf" data-i18n="title=layout.downloadPdf" title="Last ned PDF"><span class="icon"></span><span class="text">PDF</span></a></div></div></header></div><div class="col-xs-12"><div class="content"><section class="intro" id="introduksjon">
<h1 class="intro" id="introduksjon">Introduksjon</h1>
<p>Før Super Mario fikk sine egne spill het han Jumpman. I dette
prosjektet skal vi lage et Super Mario-lignende plattformspill. Det er
ganske involvert, og vi vil derfor dele opp prosjektet i fire deler
som til sammen blir et spennende spill.</p>
<p>I denne tredje delen skal vi se hvordan vi kan lage verdenen vår
større ved å flytte ting på skjermen slik at det ser ut til at Jumpman
beveger seg.</p>
<p><figure><img src="jumpman_3_skrolling.png" alt=""></figure></p>
</section>
<section class="activity" id="oversikt-over-prosjektet">
<h1 class="activity" id="oversikt-over-prosjektet">Oversikt over prosjektet</h1>
<p>Dette prosjektet består av 4 deler hvor vi stadig videreutvikler
spillet vårt.</p>
<ul>
<li>
<p>I <a href="jumpman_1_animasjon.html">del 1</a> programmerte vi helten vår,
Jumpman, og spesielt animerte vi ham alt etter som om han stod i ro,
løp eller hoppet.</p>
</li>
<li>
<p>I <a href="jumpman_2_kollisjon.html">del 2</a> så vi hvordan vi kunne oppdage
at Jumpman berørte forskjellige ting, og spesielt hvordan vi kunne se
forskjellen på om han hoppet opp i en plattform eller stod på toppen
av den.</p>
</li>
<li>
<p>I denne tredje delen skal vi utvide verdenen vår ved å flytte på
bakgrunnen. Vi vil da kunne løpe rundt og oppdage plattformer
utenfor skjermen.</p>
</li>
<li>
<p>I <a href="jumpman_4_design.html">fjerde og siste del</a> vil vi lære hvordan
vi lager flere nivåer, samt hvordan vi kan inkludere elementer som
smarte fiender og bevegelige plattformer.</p>
</li>
</ul>
</section>
<section class="activity" id="steg-1-posisjon-posisjon-posisjon">
<h1 class="activity" id="steg-1-posisjon-posisjon-posisjon">Steg 1: Posisjon, posisjon, posisjon</h1>
<p>Vi skal nå flytte bakgrunnen i spillet vårt slik at det ser ut til at Jumpman
beveger seg. Det vil gi oss muligheten til å lage en verden som er større enn
skjermen!</p>
<section class="check" id="sjekkliste">
<h2 class="check" id="sjekkliste">Sjekkliste</h2>
<ul>
<li>
<p>Hent i Jumpman-spillet som du laget i <a href="jumpman_1_animasjon.html">del 1</a> og
<a href="jumpman_2_kollisjon.html">del 2</a>. Vi skal fortsette på dette (du kan også
velge <code>Lagre som kopi</code> fra filmenyen om du vil ta vare på hvordan spillet ditt
ser ut etter de to første delene).</p>
</li>
<li>
<p>For å kunne flytte på bakgrunnen må alle elementene i bakgrunnen være egne
figurer. Om du har tegnet noe rett på bakgrunnen på scenen må du derfor lage
nye figurer som tilsvarer dette. Husk å gi disse figurene <code>sjekk sensor</code>-skript slik at Jumpman oppfører seg riktig når han berører dem.</p>
</li>
</ul>
<p>Den siste forberedelsen vår er at vi må kunne tenke på posisjonen til Jumpman på
to forskjellige måter: hvor han er på skjermen og hvor han er i verden. Så langt
har vi vist hele verden på skjermen slik at disse har vært de samme. Nå må vi
dele dem opp. Hvor Jumpman er på skjermen kontrollerer vi med <code class="b">(x-posisjon)</code>
og <code class="b">(y-posisjon)</code>, men for å kontrollere hvor han er i verden trenger vi
noen nye variabler:</p>
<ul>
<li>
<p>Legg til variablene <code class="b">(posX)</code> og <code class="b">(posY)</code> på <code>Kontroller</code>. Det er
veldig viktig at disse gjelder <em>kun for denne figuren</em>.</p>
</li>
<li>
<p>Nå skal vi bruke disse nye variablene. Endre <code>flytt figurer</code>-skriptet til
<code>Kontroller</code> slik:</p>
<pre><code class="blocks">    når jeg mottar [flytt figurer v]
    endre [posX v] med (fartX)
    endre [posY v] med (fartY)
    sett x til (posX)
    sett y til (posY)
</code></pre>
</li>
<li>
<p>Bytt også alle <code class="b">endre x med ()</code>- og <code class="b">endre y med ()</code>-klosser med
tilsvarende <code class="b">endre [posX v] med ()</code>- og <code class="b">endre [posY v] med ()</code>-klosser i andre skript i <code>Kontroller</code>-figuren (det er ikke sikkert du
har noen).</p>
</li>
<li>
<p>Om du tester ditt spillet ditt skal det fungere på samme måte som
tidligere. Vi har bare forberedt oss for neste steg.</p>
</li>
</ul>
</section>
</section>
<section class="activity" id="steg-2-kamera">
<h1 class="activity" id="steg-2-kamera">Steg 2: Kamera</h1>
<p>For å flytte bakgrunnen tenker vi oss at vi har et kamera som vi kan flytte
eller peke på forskjellige steder av verdenen vår. Dette implementerer vi ved
hjelp av to nye variabler:</p>
<section class="check" id="sjekkliste-2">
<h2 class="check" id="sjekkliste-2">Sjekkliste</h2>
<ul>
<li>
<p>Legg til to nye variabler, <code class="b">(kameraX)</code> og <code class="b">(kameraY)</code>. Disse
variablene må gjelde <em>for alle figurer</em> siden alle figurene må vite hvor
kameraet peker.</p>
</li>
<li>
<p>Legg også til en ny melding i hovedløkken på Scenen. La klossen <code class="b">send melding [oppdater kamera v]</code> ligge nest-nederst, rett før <code>vis animasjon</code>-meldingen.</p>
</li>
<li>
<p>Endre nå de to nederste klossene i <code>flytt figurer</code>-skriptet på <code>Kontroller</code>
(som du jobbet med i Steg 1):</p>
<pre><code class="blocks">    sett x til ((posX) - (kameraX))
    sett y til ((posY) - (kameraY))
</code></pre>
<p>Dette betyr at vi plasserer Jumpman på skjermen <em>relativt</em> til hvor kameraet
peker.</p>
</li>
<li>
<p>Vi kan nå begynne å flytte kameraet. Vi vil at det skal følge Jumpman rundt i
verdenen. En måte å gjøre dette på er å bare sette <code class="b">(kamera)</code>-variablene
lik <code class="b">(pos)</code>-variablene, men vi kan gjøre bevegelsen litt mykere på denne
måten:</p>
<pre><code class="blocks">    når jeg mottar [oppdater kamera v]
    endre [kameraX v] med (((posX) - (kameraX)) / (5))
    endre [kameraY v] med (((posY) - (kameraY)) / (5))
</code></pre>
<p>Om du prøver spillet ditt nå vil det se ut til å ikke virke lenger. Det er
fordi bare Jumpman vet om kameraet.</p>
</li>
<li>
<p>Gå til <code>Murstein</code>-figuren. Legg til <code class="b">(posX)</code>- og <code class="b">(posY)</code>-variabler
som gjelder <em>kun for denne figuren</em>.</p>
</li>
<li>
<p>Bytt ut alle blå <code class="b">sett :: motion</code>- og <code class="b">endre :: motion</code>-klosser med
tilsvarende oransje <code class="b">sett [ v] til []</code>- <code class="b">endre [ v] med ()</code>-klosser
hvor du bruker <code class="b">(posX)</code> og <code class="b">(posY)</code>-variablene.</p>
</li>
<li>
<p>Lag et nytt <code>vis animasjon</code>-skript på <code>Murstein</code>:</p>
<pre><code class="blocks">    når jeg mottar [vis animasjon v]
    sett x til ((posX) - (kameraX))
    sett y til ((posY) - (kameraY))
</code></pre>
</li>
<li>
<p>Test spillet ditt igjen. Nå skal mursteinene flytte på seg når Jumpman beveger
seg!</p>
</li>
</ul>
</section>
</section>
<section class="activity" id="steg-3-alt-flytter-pa-seg">
<h1 class="activity" id="steg-3-alt-flytter-pa-seg">Steg 3: Alt flytter på seg</h1>
<p>Vi skal snart la alt flytte på seg, men først en liten forbedring.</p>
<section class="check" id="sjekkliste-3">
<h2 class="check" id="sjekkliste-3">Sjekkliste</h2>
<ul>
<li>
<p>Prøv spillet ditt. Gå til høyre helt til mursteinene forsvinner ut på venstre
side av skjermen. Ser du noe rart? Mursteinene forsvinner ikke helt!</p>
<p>Dette er fordi Scratch antar at vi faktisk vil vise alle figurene våre, og den
passer derfor på at figurene ikke blir helt borte. Men nå vil vi jo at
mursteinene skal bli borte! Vi må derfor skjule dem selv. Endre <code>vis animasjon</code>-skriptet som du nettopp laget:</p>
<pre><code class="blocks">    når jeg mottar [vis animasjon v]
    hvis &lt;&lt;([abs v] av ((posX) - (kameraX))) &lt; [240]&gt; og &lt;([abs v] av ((posY) - (kameraY))) &lt; [180]&gt;&gt;
        sett x til ((posX) - (kameraX))
        sett y til ((posY) - (kameraY))
        vis
    ellers
        skjul
    slutt
</code></pre>
<p>Du kjenner kanskje igjen tallene 240 og 180? Disse representerer størrelsen på
skjermen. For eksempel sier vi at dersom <code class="b">(x-posisjon)</code> blir mindre enn
-240 eller større enn 240 skal vi skjule figuren.</p>
</li>
<li>
<p>Kopier dette <code>vis animasjon</code>-skriptet til andre figurer du vil at skal flytte
på seg, for eksempel <code>Fruktsalat</code> om du laget denne i
<a href="jumpman_2_kollisjon.html">del 2</a>. Kopieringen gjør også at <code class="b">(posX)</code> og
<code class="b">(posY)</code>-variabler lages automatisk for disse andre figurene.</p>
</li>
<li>
<p>Oppdater alle blå klosser til oransje for disse figurene på samme måte som vi
gjorde for <code>Murstein</code> på slutten av Steg 2.</p>
</li>
</ul>
</section>
</section>
<section class="activity" id="steg-4-videreutvikling-av-spillet">
<h1 class="activity" id="steg-4-videreutvikling-av-spillet">Steg 4: Videreutvikling av spillet</h1>
<p><em>Nå som vi kan skrolle bakgrunnen er enda en av hovedkomponentene i spillet vårt
på plass. I den <a href="jumpman_4_design.html">siste delen</a> av oppgaven skal vi se mer
på hvordan vi kan designe flere nivå, bevegelige plattformer og smarte
fiender. Nedenfor er forslag til ting du kan gjøre før du gyver løs på neste
del.</em></p>
<section class="check" id="ideer-til-videreutvikling">
<h2 class="check" id="ideer-til-videreutvikling">Ideer til videreutvikling</h2>
<ul>
<li>
<p>Utvid verdenen din! Bygg mursteiner og andre figurer som starter utenfor
skjermen slik at du må bevege Jumpman for å finne dem.</p>
</li>
<li>
<p>Du kan begrense hvordan kameraet flytter på seg ved å endre koden på <code>oppdater kamera</code>-skriptet. For eksempel vil denne koden hindre Jumpman i å gå for langt
til venstre:</p>
<pre><code class="blocks">    hvis &lt;&lt;(posX) &gt; [0]&gt; eller &lt;(kameraX) &gt; [0]&gt;&gt;
        endre [kameraX v] med (((posX) - (kameraX)) / (5))
    slutt
</code></pre>
</li>
<li>
<p>Du kan også prøve med et kamera som flytter seg automatisk, og deretter si at
om ikke Jumpman klarer å holde følge med kameraet så er spillet slutt.</p>
</li>
<li>
<p>Lag nye spennende ting Jumpman kan finne inne i mursteiner. For eksempel kan
du lage en kanon-figur som kan skyte Jumpman over skjermen! Denne kan du
implementere ved å teste om for eksempel mellomromstasten er trykket og
Jumpman berører kanonen. I såfall kan du sette <code class="b">(fart)</code>-variablene til
Jumpman til ganske store tall og spille en passende kaboom-lyd!</p>
</li>
</ul>
</section>
</section>
</div><div class="improve"><h3>Forbedre denne siden</h3><p>Funnet en feil? Kunne noe vært bedre? Hvis ja, vennligst gi oss tilbakemelding ved å lage en sak på Github eller fiks feilen selv om du kan. Vi er takknemlige for enhver tilbakemelding!</p><a href="https://github.com/kodeklubben/oppgaver/issues/new?title=Scratch: Jumpman, del 3 - Bakgrunnskrolling&amp;body=Beskriv ditt problem..." class="issue">Rapporter et problem</a><a href="https://github.com/kodeklubben/oppgaver/tree/master/src/scratch/jumpman" class="code">Vis koden og fiks selv</a></div></div><div class="col-xs-12"><div id="footer" class="clearfix"><div class="license"><p><strong data-i18n="html=layout.license">Lisens</strong><strong>:</strong></p><a rel="license" data-i18n="href=layout.licenseUrl" href="http://creativecommons.org/licenses/by-sa/4.0/deed.no">CC BY-SA 4.0</a></div><div class="author"><p><strong data-i18n="html=layout.author">Forfatter</strong><strong>:</strong></p><p>Geir Arne Hjelle</p>
</div></div></div></div></div><div class="intro-question modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" data-dismiss="modal" aria-label="Close" class="close"><span aria-hidden="true">&times;</span></button><h4 data-i18n="html=layout.greeting" class="modal-title">Hei der!</h4></div><div class="modal-body"><p data-i18n="html=layout.askTour">Ser ut som dette er ditt første besøk, vil du ha en omvisning?</p></div><div class="modal-footer"><button data-i18n="html=layout.yes" class="btn btn-success">Ja!</button><button data-dismiss="modal" data-i18n="html=layout.no" class="btn btn-danger">Nei takk</button></div></div></div></div><script src="../../assets/vendor.min.js"></script><script src="../../assets/script.min.js"></script><script>$(document).ready(function(){
  $('pre').has('code.blocks').addClass('blocks');
  scratchblocks2.load_language(scratchblocks2._translations['nb']);
  scratchblocks2.parse('code.blocks');
  scratchblocks2.parse('code.b', {inline: true});
});</script></body></html>