<html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Jumpman, del 1 - Animasjon | Kodeklubben</title><link href="../../assets/style.min.css" rel="stylesheet"/><script type="text/javascript">// convert url relative to current file
// ex: python/index.html -> ../python/index.html
function relative(url) {
  var urlRoot = '../../../codeclub_lesson_builder';
  if (urlRoot !== '') {
    return urlRoot + '/' + url;
  }
  return url;
}</script></head><body><div class="container"><div class="row"><div class="col-xs-12"><div class="top-menu"><div class="navigation"><a href="../../index.html"><span aria-hidden="true" class="glyphicon glyphicon-home"></span><span>&nbsp;</span><span data-i18n="html=layout.home">Forside</span></a><span>&nbsp;/&nbsp;</span><a href="../../scratch">Scratch</a></div><a data-i18n="title=layout.takeTour" title="Ta en omvisning på siden" data-placement="bottom" href="#" class="intro"><span class="icon"></span><span class="text">Intro</span></a><form class="search"><input type="text" data-i18n="placeholder=layout.search" placeholder="Søk" class="form-control"/></form></div></div><div class="search"><div class="results"><h1 data-i18n="html=layout.searchResults">Søkeresultat</h1></div></div><div class="col-xs-12"><header class="clearfix"><img src="../../assets/img/ccno_logo.png" class="logo hidden-xs"/><h1 class="title">Jumpman, del 1 - Animasjon</h1><div class="lesson-icons"><div class="level"><img title="Level 4" src="../../assets/img/level4.png"/><span data-i18n="html=layout.levelNames.4">Ekspert</span></div><a href="../../scratch" class="course"><img src="../logo-white.png"/><span>Scratch</span></a><div class="pdf"><a href="/scratch/jumpman/jumpman_1_animasjon.pdf" data-i18n="title=layout.downloadPdf" title="Last ned PDF"><span class="icon"></span><span class="text">PDF</span></a></div></div></header></div><div class="col-xs-12"><div class="content"><section class="intro" id="introduksjon">
<h1 class="intro" id="introduksjon">Introduksjon</h1>
<p>Før Super Mario fikk sine egne spill het han Jumpman. I dette
prosjektet skal vi lage et Super Mario-lignende plattformspill. Det er
ganske involvert, og vi vil derfor dele opp prosjektet i fire deler
som til sammen blir et spennende spill.</p>
<p>I denne første delen skal vi fokusere på å sette opp en hovedløkke for
spillet vårt, samt se hvordan vi kan animere Jumpman på en ganske
snedig måte.</p>
<p><figure><img src="jumpman_1_animasjon.png" alt=""></figure></p>
</section>
<section class="activity" id="oversikt-over-prosjektet">
<h1 class="activity" id="oversikt-over-prosjektet">Oversikt over prosjektet</h1>
<p>Dette prosjektet består av 4 deler hvor vi stadig videreutvikler
spillet vårt.</p>
<ul>
<li>
<p>Dette er del 1 hvor vi vil programmere helten vår, Jumpman, og
spesielt animere ham alt etter som om han står i ro, løper eller
hopper.</p>
</li>
<li>
<p>I <a href="jumpman_2_kollisjon.html">del 2</a> vil vi se hvordan vi kan oppdage
at Jumpman berører forskjellige ting, og spesielt hvordan vi kan se
forskjellen på om han hopper opp i en plattform eller står på toppen
av den.</p>
</li>
<li>
<p>I <a href="jumpman_3_skrolling.html">del 3</a> skal vi utvide verdenen vår ved
å flytte på bakgrunnen. Vi vil da kunne løpe rundt og oppdage
plattformer utenfor skjermen.</p>
</li>
<li>
<p>I <a href="jumpman_4_design.html">fjerde og siste del</a> vil vi lære hvordan
vi lager flere nivåer, samt hvordan vi kan inkludere elementer som
smarte fiender og bevegelige plattformer.</p>
</li>
</ul>
</section>
<section class="activity" id="steg-1-en-kontrollerende-figur">
<h1 class="activity" id="steg-1-en-kontrollerende-figur">Steg 1: En kontrollerende figur</h1>
<p><em>For å ha fleksibilitet i hvordan vi animerer Jumpman vil vi skille
mellom hvordan figuren kontrolleres og hvordan den animeres.</em></p>
<p>Dersom du allerede har gjort
<a href="../donkey_kong/donkey_kong.html">Donkey Kong</a>-oppgaven vil du kjenne
igjen mye av koden vi utvikler i denne oppgaven. Bruk i såfall gjerne
ryggsekken for å kopiere inn koden du laget på hoppefiguren der, siden
du kan gjenbruke mye av koden (men en del vil også være forskjellig).</p>
<section class="check" id="sjekkliste">
<h2 class="check" id="sjekkliste">Sjekkliste</h2>
<ul>
<li>
<p>Start et nytt prosjekt.</p>
</li>
<li>
<p>La kattefiguren bli værende (den vil ikke synes i det ferdige
spillet), men gi den navnet <code>Kontroller</code>.</p>
</li>
<li>
<p>Tegn en farget linje nederst på bakgrunnen. I denne delen av
prosjektet vil dette være plattformen Jumpman kan bevege seg rundt
på.</p>
<p><figure><img src="bakgrunn.png" alt=""></figure></p>
</li>
</ul>
<p>For å styre hvordan spillet oppfører seg skal vi bruke en <em>hovedløkke</em>
som vil sende meldinger til alle figurene. Figurene velger så hvordan
de vil svare på meldingene.</p>
<ul>
<li>
<p>Lag de følgende to skriptene på <strong>Scenen</strong>:</p>
<pre><code class="blocks">    når grønt flagg klikkes
    send melding [nytt spill v]

    når jeg mottar [nytt spill v]
    send melding [startposisjon v]
    for alltid
        send melding [fysikk v]
        send melding [sjekk plattform v]
        send melding [sjekk tastetrykk v]
        send melding [flytt figurer v]
        send melding [vis animasjon v]
    slutt
</code></pre>
<p>Hvis du leser gjennom meldingene ser du at vi har laget en liste
over alt som må gjøres hver gang vi vil oppdatere spillet vårt.</p>
</li>
<li>
<p>Vi vil bruke variablene <code class="b">(fartX)</code> og <code class="b">(fartY)</code> for å
kontrollere bevegelsen til Jumpman. Lag disse to variablene på
<code>Kontroller</code>-figuren. La dem gjelde <em>kun for denne figuren</em>.</p>
</li>
<li>
<p>Nå kan vi se hvordan hovedløkken fungerer. Lag disse fire skriptene
på <code>Kontroller</code>-figuren:</p>
<pre><code class="blocks">    når jeg mottar [startposisjon v]
    gå til x: (-100) y: (-60)
    sett [fartX v] til [0]
    sett [fartY v] til [0]

    når jeg mottar [fysikk v]
    sett [fartX v] til [0]
    endre [fartY v] med (-0.5)

    når jeg mottar [sjekk plattform v]
    hvis (berører fargen [#009900]?)
        sett [fartY v] til [0]
    slutt

    når jeg mottar [flytt figurer v]
    endre x med (fartX)
    endre y med (fartY)
</code></pre>
<p>Om du tester spillet ditt ved å klikke på det grønne flagget, skal
du se at <code>Kontroller</code>-figuren faller ned til plattformen, og blir
stående på den.</p>
</li>
<li>
<p>Dersom du allerede har gjort
<a href="../donkey_kong/donkey_kong.html">Donkey Kong</a>-oppgaven bør du
sammenligne denne koden med slik vi skrev den der. Ser du at koden
er den samme, men vi har organisert den litt annerledes? Når vi
lager et større spill slik som dette er det enklere å holde oversikt
når hvert skript er ganske lite og bare skal gjøre en ting!</p>
</li>
</ul>
</section>
</section>
<section class="activity" id="steg-2-animasjoner">
<h1 class="activity" id="steg-2-animasjoner">Steg 2: Animasjoner!</h1>
<p><em>På tide å animere helten vår!</em></p>
<p>Nå har vi laget en <code>Kontroller</code>-figur. Men vi sa tidligere at denne
figuren ikke vil synes i det ferdige spillet. Vi skal nemlig bruke
egne figurer for animasjon. På denne måten er det lett å bruke
forskjellige animasjoner når figuren står i ro, når den løper og når
den hopper.</p>
<section class="check" id="sjekkliste-2">
<h2 class="check" id="sjekkliste-2">Sjekkliste</h2>
<ul>
<li>
<p>Lag en ny figur med flere drakter som animerer at den står i ro. Du
kan gjerne tegne denne selv. Alternativt har for eksempel figurene
<code>Fantasi/Giga</code> og <code>Fantasi/Pico</code> fine animasjoner. Gi figuren navnet
<code>Animasjon - Stå</code>.</p>
</li>
<li>
<p>Lag en ny variabel, <code class="b">(animasjon)</code>. Denne må gjelde <em>for alle
figurer</em>. Denne skal vi bruke til å bestemme hvilken animasjon vi
vil vise.</p>
</li>
<li>
<p>Legg til klossen <code class="b">sett [animasjon v] til [stå]</code> inne i
<code class="blockcontrol">hvis</code>-testen i <code>sjekk plattform</code>-skriptet til
<code>Kontroller</code>en. Det betyr at vi vil vise stå-animasjonen når figuren
står på plattformen.</p>
</li>
<li>
<p>På <code>Animasjon - Stå</code>-figuren trenger vi bare et skript, nemlig det
som viser figuren:</p>
<pre><code class="blocks">    når jeg mottar [vis animasjon v]
    hvis ((animasjon) = [stå])
        pek i retning ([retning v] av [Kontroller v])
        sett x til ([x-posisjon v] av [Kontroller v])
        sett y til ([y-posisjon v] av [Kontroller v])
        neste drakt
        vis
    ellers
        skjul
    slutt
</code></pre>
<p>Legg merke til hvordan vi kopierer posisjonen til
<code>Kontroller</code>-figuren. Animasjonen gjøres veldig enkelt med bare en
kloss, <code class="b">neste drakt</code>.</p>
</li>
<li>
<p>Du kan endre animasjonen ved å legge til flere drakter. Et tips er
at om du vil at animasjonen skal gå litt saktere kan du kopiere den
samme drakten mange ganger. For eksempel kan en <code>stå</code>-animasjon
bestå av mange av den samme drakten, og så kanskje noen få drakter
hvor figuren smiler litt, flytter seg ørlite eller noe lignende.</p>
</li>
<li>
<p>Det er på tide vi skjuler <code>Kontroller</code>-figuren. Dessverre kan vi
<em>ikke</em> bruke en <code class="b">skjul</code>-kloss fordi da vil ikke
<code class="blocksensing">berører</code>-klossene fungere lenger. I stedet gjør vi
figuren helt gjennomsiktig. Legg til dette skriptet på
<code>Kontroller</code>-figuren:</p>
<pre><code class="blocks">    når grønt flagg klikkes
    sett [gjennomsiktig v] effekt til (100)
    begrens rotasjon [vend sideveis v]
</code></pre>
</li>
<li>
<p>Legg til nye figurer, <code>Animasjon - Løp</code> og <code>Animasjon - Hopp</code>. For
eksempel kan du bruke figurene <code>Fantasi/Giga walking</code> eller
<code>Fantasi/Pico walking</code>. Du kan også tegne drakter selv.</p>
</li>
<li>
<p>Lag tilsvarende skript på de nye <code>Animasjon</code>-figurene. Det eneste du
trenger å endre fra skriptet på <code>Animasjon - Stå</code>-figuren er
<code class="blockcontrol">hvis</code>-testen.</p>
<p>Om du vil teste animasjonene kan du endre <code class="b">sett [animasjon v] til [stå]</code>-klossen (men husk å endre tilbake når du er ferdig å
teste).</p>
</li>
</ul>
</section>
</section>
<section class="activity" id="steg-3-en-hoppende-helt">
<h1 class="activity" id="steg-3-en-hoppende-helt">Steg 3: En hoppende helt</h1>
<p><em>Vi har animert Jumpman, men han beveger seg ikke! Det må vi gjøre noe
med.</em></p>
<p>Vi skal nå skrive koden som får Jumpman til å bevege seg. Husk at all
denne koden skal være på <code>Kontroller</code>-figuren. Og du trenger <em>ingen
løkker</em> på <code>Kontroller</code> siden vi bruker <em>hovedløkken</em> til spillet.</p>
<section class="check" id="sjekkliste-3">
<h2 class="check" id="sjekkliste-3">Sjekkliste</h2>
<p>Vi skal nå skrive flere <code class="blockcontrol">hvis</code>-tester på et nytt <code class="b">når jeg mottar [sjekk tastetrykk v]</code>-skript.</p>
<ul>
<li>
<p>Først kan vi få Jumpman til å hoppe:</p>
<pre><code class="blocks">    hvis ((berører fargen [#009900]?) og (tast [pil opp v] trykket?))
        sett [fartY v] til [5]
        sett [animasjon v] til [hopp]
    slutt
</code></pre>
</li>
<li>
<p>For at Jumpman skal løpe sidelengs vil vi snu figuren i riktig
retning, og sette <code class="b">(fartX)</code>-variabelen. For eksempel kan vi
flytte ham mot høyre med en test som dette:</p>
<pre><code class="blocks">    hvis (tast [pil høyre v] trykket?)
        pek i retning (90 v)
        sett [fartX v] til [5]
        hvis (berører fargen [#009900]?)
            sett [animasjon v] til [løp]
        slutt
    slutt
</code></pre>
</li>
<li>
<p>Legg selv til en <code class="blockcontrol">hvis</code>-test for å flytte Jumpman mot
venstre.</p>
</li>
<li>
<p>Prøv spillet ditt! Kan du løpe og hoppe rundt på plattformen?</p>
<p>Du oppdager kanskje at Jumpman står på hodet når han løper mot
venstre? Dette fikser du ved hjelp av <code class="b">begrens rotasjon [vend sideveis v]</code>-kloss på hver av <code>Animasjon</code>-figurene.</p>
</li>
</ul>
</section>
</section>
<section class="activity" id="steg-4-videreutvikling-av-spillet">
<h1 class="activity" id="steg-4-videreutvikling-av-spillet">Steg 4: Videreutvikling av spillet</h1>
<p><em>Vi har så langt bare laget grunnlaget for et spill. En animert figur
som kan springe og hoppe rundt. I <a href="jumpman_2_kollisjon.html">del 2</a>
vil vi fortsette utviklingen av spillet. Men om du vil jobbe litt
videre før den oppgaven kan du prøve noe av det følgende.</em></p>
<section class="check" id="ideer-til-videreutvikling">
<h2 class="check" id="ideer-til-videreutvikling">Ideer til videreutvikling</h2>
<ul>
<li>
<p>Prøv forskjellige verdier for <code class="b">(fartX)</code> og <code class="b">(fartY)</code> i
<code>sjekk tastetrykk</code>-skriptet. Hvordan forandrer det oppførselen til
Jumpman?</p>
</li>
<li>
<p>Hva med å legge til noen lyder? Korte, enkle lyder når Jumpman
beveger seg kan passe. Og kanskje et lite rop når han hopper, eller
en litt utålmodig <em>Hallo!</em> om han blir stående for lenge i ro? Husk
at du kan ta opp egne lyder også, ikke bare bruke lydene som følger
med Scratch.</p>
</li>
<li>
<p>Lag en forside til spillet. Om du lager en forside som forteller
litt om hvordan man spiller spillet ditt blir det enklere for andre
å spille det også!</p>
</li>
<li>
<p>Kan du legge til flere bevegelser som kan animeres? Kanskje Jumpman
kan sette seg ned om du trykker nedoverpilen? Eller kanskje han kan
ta en salto i luften eller gjøre et superhopp om man gjør de riktige
tastaturkombinasjonene?</p>
</li>
</ul>
</section>
</section>
</div><div class="improve"><h3>Forbedre denne siden</h3><p>Funnet en feil? Kunne noe vært bedre? Hvis ja, vennligst gi oss tilbakemelding ved å lage en sak på Github eller fiks feilen selv om du kan. Vi er takknemlige for enhver tilbakemelding!</p><a href="https://github.com/kodeklubben/oppgaver/issues/new?title=Scratch: Jumpman, del 1 - Animasjon&amp;body=Beskriv ditt problem..." class="issue">Rapporter et problem</a><a href="https://github.com/kodeklubben/oppgaver/tree/master/src/scratch/jumpman" class="code">Vis koden og fiks selv</a></div></div><div class="col-xs-12"><div id="footer" class="clearfix"><div class="license"><p><strong data-i18n="html=layout.license">Lisens</strong><strong>:</strong></p><a rel="license" data-i18n="href=layout.licenseUrl" href="http://creativecommons.org/licenses/by-sa/4.0/deed.no">CC BY-SA 4.0</a></div><div class="author"><p><strong data-i18n="html=layout.author">Forfatter</strong><strong>:</strong></p><p>Geir Arne Hjelle</p>
</div></div></div></div></div><div class="intro-question modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" data-dismiss="modal" aria-label="Close" class="close"><span aria-hidden="true">&times;</span></button><h4 data-i18n="html=layout.greeting" class="modal-title">Hei der!</h4></div><div class="modal-body"><p data-i18n="html=layout.askTour">Ser ut som dette er ditt første besøk, vil du ha en omvisning?</p></div><div class="modal-footer"><button data-i18n="html=layout.yes" class="btn btn-success">Ja!</button><button data-dismiss="modal" data-i18n="html=layout.no" class="btn btn-danger">Nei takk</button></div></div></div></div><script src="../../assets/vendor.min.js"></script><script src="../../assets/script.min.js"></script><script>$(document).ready(function(){
  $('pre').has('code.blocks').addClass('blocks');
  scratchblocks2.load_language(scratchblocks2._translations['nb']);
  scratchblocks2.parse('code.blocks');
  scratchblocks2.parse('code.b', {inline: true});
});</script></body></html>