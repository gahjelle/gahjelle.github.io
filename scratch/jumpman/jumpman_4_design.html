<html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Jumpman, del 4 - Brettdesign | Kodeklubben</title><link href="../../assets/style.min.css" rel="stylesheet"/><script type="text/javascript">// convert url relative to current file
// ex: python/index.html -> ../python/index.html
function relative(url) {
  var urlRoot = '../../../codeclub_lesson_builder';
  if (urlRoot !== '') {
    return urlRoot + '/' + url;
  }
  return url;
}</script></head><body><div class="container"><div class="row"><div class="col-xs-12"><div class="top-menu"><div class="navigation"><a href="../../index.html"><span aria-hidden="true" class="glyphicon glyphicon-home"></span><span>&nbsp;</span><span data-i18n="html=layout.home">Forside</span></a><span>&nbsp;/&nbsp;</span><a href="../../scratch">Scratch</a></div><a data-i18n="title=layout.takeTour" title="Ta en omvisning på siden" data-placement="bottom" href="#" class="intro"><span class="icon"></span><span class="text">Intro</span></a><form class="search"><input type="text" data-i18n="placeholder=layout.search" placeholder="Søk" class="form-control"/></form></div></div><div class="search"><div class="results"><h1 data-i18n="html=layout.searchResults">Søkeresultat</h1></div></div><div class="col-xs-12"><header class="clearfix"><img src="../../assets/img/ccno_logo.png" class="logo hidden-xs"/><h1 class="title">Jumpman, del 4 - Brettdesign</h1><div class="lesson-icons"><div class="level"><img title="Level 4" src="../../assets/img/level4.png"/><span data-i18n="html=layout.levelNames.4">Ekspert</span></div><a href="../../scratch" class="course"><img src="../logo-white.png"/><span>Scratch</span></a><div class="pdf"><a href="/scratch/jumpman/jumpman_4_design.pdf" data-i18n="title=layout.downloadPdf" title="Last ned PDF"><span class="icon"></span><span class="text">PDF</span></a></div></div></header></div><div class="col-xs-12"><div class="content"><section class="intro" id="introduksjon">
<h1 class="intro" id="introduksjon">Introduksjon</h1>
<p>Før Super Mario fikk sine egne spill het han Jumpman. I dette
prosjektet skal vi lage et Super Mario-lignende plattformspill. Det er
ganske involvert, og vi vil derfor dele opp prosjektet i fire deler
som til sammen blir et spennende spill.</p>
<p>I denne fjerde og siste delen vil vi se hvordan vi kan implementere
flere nivåer i spillet, samt hvordan vi designer spennende elementer
som smarte fiender og bevegelige plattformer.</p>
<p><figure><img src="jumpman_4_design.png" alt=""></figure></p>
</section>
<section class="activity" id="oversikt-over-prosjektet">
<h1 class="activity" id="oversikt-over-prosjektet">Oversikt over prosjektet</h1>
<p>Dette prosjektet består av 4 deler hvor vi stadig videreutvikler
spillet vårt.</p>
<ul>
<li>
<p>I <a href="jumpman_1_animasjon.html">del 1</a> programmerte vi helten vår,
Jumpman, og spesielt animerte vi ham alt etter som om han stod i ro,
løp eller hoppet.</p>
</li>
<li>
<p>I <a href="jumpman_2_kollisjon.html">del 2</a> så vi hvordan vi kunne oppdage
at Jumpman berørte forskjellige ting, og spesielt hvordan vi kunne se
forskjellen på om han hoppet opp i en plattform eller stod på toppen
av den.</p>
</li>
<li>
<p>I <a href="jumpman_3_skrolling.html">del 3</a> utvidet vi verdenen vår ved å
flytte på bakgrunnen. Vi kunne da løpe rundt og oppdage plattformer
utenfor skjermen.</p>
</li>
<li>
<p>I denne fjerde og siste delen vil vi lære hvordan vi lager flere
nivåer, samt hvordan vi kan inkludere elementer som smarte fiender
og bevegelige plattformer.</p>
</li>
</ul>
</section>
<section class="activity" id="steg-1-flere-nivaer">
<h1 class="activity" id="steg-1-flere-nivaer">Steg 1: Flere nivåer</h1>
<p><em>La oss først se hvordan vi kan lage flere brett eller nivåer i spillet vårt.</em></p>
<section class="check" id="sjekkliste">
<h2 class="check" id="sjekkliste">Sjekkliste</h2>
<ul>
<li>
<p>Hent inn Jumpman-spillet som du har programmert i
<a href="jumpman_1_animasjon.html">del 1</a>, <a href="jumpman_2_kollisjon.html">del 2</a> og
<a href="jumpman_3_skrolling.html">del 3</a>.</p>
</li>
<li>
<p>Lag en variabel som gjelder <em>for alle figurer</em>. La den hete <code class="b">(nivå)</code> og
den kan godt være synlig på skjermen om du vil det.</p>
</li>
<li>
<p>Lag så et mål i spillet ditt om du ikke har det allerede. Dette kan være for
eksempel en skatt man må finne (kanskje den er gjemt inne i en murstein?)
eller som i første brettet på Super Mario, et flagg man må nå og heise opp.</p>
<p>La denne figuren øke <code class="b">(nivå)</code> og sende meldingen <code>avslutt brett</code> når den
blir funnet. For eksempel,</p>
<pre><code class="blocks">når jeg mottar [sjekk plattform v]
hvis &lt;berører [Kontroller v]&gt;
    endre [nivå v] med (1)
    send melding [avslutt brett v]
    slett denne klonen
slutt
</code></pre>
</li>
<li>
<p>Vi må nå passe på at vi sletter alle kloner når et brett avsluttes. Legg
derfor et lite skript på alle figurer som lager kloner, som <code class="b">slett denne klonen</code> etter <code class="b">når jeg mottar [avslutt brett v]</code>.</p>
</li>
<li>
<p>Vi skal nå flytte litt rundt på skriptene på Scenen slik at vi kan starte
forskjellige brett.</p>
<pre><code class="blocks">når jeg mottar [nytt spill v]
sett [nivå v] til [1]
send melding [nytt brett v]

når jeg mottar [nytt brett v]
send melding (sett sammen [start nivå ] (nivå))
for alltid
    send melding [oppdater sensor v]
    send melding [sjekk sensor v]
    send melding [fysikk v]
    send melding [sjekk plattform v]
    send melding [sjekk tastetrykk v]
    send melding [flytt figur v]
    send melding [oppdater kamera v]
    send melding [vis animasjon v]
slutt
</code></pre>
<p>Pass på at det skal være et mellomrom etter <code>start nivå</code> for at vi skal kunne
motta meldinger av typen <code>start nivå 1</code> og <code>start nivå 2</code>, avhengig av verdien
av nivå.</p>
</li>
<li>
<p>Legg et <code>avslutt brett</code>-skript på Scenen også. Dette skal avslutte
hovedløkken, og deretter starte den på nytt:</p>
<pre><code class="blocks">når jeg mottar [avslutt brett v]
stopp [andre skript på scenen v] :: control
vent (1) sekunder
send melding [nytt brett v]
</code></pre>
</li>
<li>
<p>Siden vi byttet ut <code class="b">send melding [startposisjon v]</code> med <code class="b">send melding (sett sammen [start nivå ] (nivå))</code> må vi oppdatere <code class="b">når jeg mottar [startposisjon v]</code>-klossene også. Endre disse til</p>
<pre><code class="blocks">når jeg mottar [start nivå 1 v]
</code></pre>
<p>på alle figurene.</p>
</li>
<li>
<p>Om du prøver spillet ditt igjen nå skal det fungere omtrent slik det gjorde
tidligere. Det nye er at nå har du muligheten til å designe flere brett!</p>
<p>Lag nye brett ved å lage <code class="b">når jeg mottar [start nivå 2 v]</code> og tilsvarende
klosser på de forskjellige figurene hvor du forteller hvordan brettene skal se
ut.</p>
</li>
</ul>
</section>
</section>
<section class="activity" id="steg-2-bevegelige-plattformer">
<h1 class="activity" id="steg-2-bevegelige-plattformer">Steg 2: Bevegelige plattformer</h1>
<p><em>Hvordan kan vi lage plattformer som beveger seg, og som flytter Jumpman også?</em></p>
<section class="check" id="sjekkliste-2">
<h2 class="check" id="sjekkliste-2">Sjekkliste</h2>
<ul>
<li>
<p>Tegn en ny figur som kan fungere som en plattform. Denne kan gjerne være et
ganske avlangt rektangel:</p>
<p><figure><img src="plattform.png" alt=""></figure></p>
</li>
<li>
<p>Kopier <code>sjekk_sensor</code>- og <code>vis_animasjon</code>-skriptene fra for eksempel
<code>Murstein</code> til plattform-figuren, siden disse vil være omtrent identiske.</p>
</li>
<li>
<p>For å få plattformene til å bevege seg trenger vi tre nye variabler. Legg til
<code class="b">(startX)</code>, <code class="b">(sluttX)</code> og <code class="b">(fartX)</code> og pass på at de gjelder kun
<em>for denne figuren</em>.</p>
</li>
<li>
<p>Vi må sette verdien av disse variablene for hver plattform vi vil lage. La oss
derfor lage en ny kloss som gjør dette for oss. Gå til <code class="blockmoreblocks">Flere klosser</code>-kategorien, og <code>Lag en kloss</code>.</p>
<p>Lag en kloss som heter <code class="blockmoreblocks">start plattform</code> og under <code>Valg</code>
legger du til tre felter for <em>Tallverdi inn</em>. Kall disse feltene <code>x1</code>, <code>x2</code> og
<code>y</code>.</p>
<p><figure><img src="ny_kloss.png" alt=""></figure></p>
</li>
<li>
<p>Definer klossen som følger:</p>
<pre><code class="blocks">definer start plattform (x1) (x2) (y)
sett [posX v] til (x1)
sett [posY v] til (y)
sett [startX v] til (x1)
sett [sluttX v] til (x2)
sett [fartX v] til [2]
lag klon av [meg v]
</code></pre>
</li>
<li>
<p>Du kan nå lage plattformer ved å bruke denne nye klossen. For eksempel,</p>
<pre><code class="blocks">når jeg mottar [start nivå 1 v]
start plattform (100) (300) (-50) :: custom
</code></pre>
</li>
<li>
<p>For at plattformen skal flytte på seg må vi skrive et skript på <code>flytt figur</code>-meldingen:</p>
<pre><code class="blocks">når jeg mottar [flytt figur v]
endre [posX v] med (fartX)
hvis &lt;&lt;(posX) &lt; (startX)&gt; eller &lt;(posX) &gt; (sluttX)&gt;&gt;
    sett [fartX v] til ((-1) * (fartX))
slutt
</code></pre>
<p>Denne passer også på at plattformen snur når den kommer til <code class="b">(sluttX)</code>.</p>
</li>
<li>
<p>Om du tester spillet ditt nå skal plattformen bevege seg, men Jumpman sklir
bare av plattformen i stedet for å følge med. Hvordan kan vi få ham til å
følge plattformen?</p>
<p>Vi innfører en ny variabel. Denne skal gjelde <em>for alle figurer</em> og kan hete
<code class="b">(plattform - fartX)</code>. Den skal si hvor mye vi må flytte Jumpman på grunn
av plattformer.</p>
</li>
<li>
<p>Inne i testen <code class="b">hvis &lt;berører [Sensor - Fot v]?&gt;</code> kan du også legge til
klossen <code class="b">sett [plattform - fartX v] til (fartX)</code>, mens du legger til et
skript for å nullstille farten om ikke Jumpman står på plattformen:</p>
<pre><code class="blocks">når jeg mottar [oppdater sensor v]
sett [plattform - fartX v] til [0]
</code></pre>
</li>
<li>
<p>Til slutt legger vi på denne farten til farten Jumpman allerede har. Gå til
<code>Kontroller</code> og endre <code class="b">endre [posX v] med (fartX)</code> i <code>flytt figurer</code>-skriptet til</p>
<pre><code class="blocks">endre [posX v] med ((fartX) + (plattform - fartX))
</code></pre>
</li>
</ul>
</section>
<section class="try" id="prov-selv">
<h2 class="try" id="prov-selv">Prøv selv</h2>
<ul>
<li>Vi har nå laget plattformer som beveger frem og tilbake. Kan du lage
plattformer som kan bevege seg opp og ned? Du må stort sett gjøre det samme
som over, men med <code>Y</code> i stedet for <code>X</code>.</li>
</ul>
</section>
</section>
<section class="activity" id="steg-3-skumle-fiender">
<h1 class="activity" id="steg-3-skumle-fiender">Steg 3: Skumle fiender</h1>
<p><em>Til sist skal vi se på noen skumle fiender som prøver å ta oss. Men om vi bare
hopper på hodet deres går det nok bra!</em></p>
<section class="check" id="sjekkliste-3">
<h2 class="check" id="sjekkliste-3">Sjekkliste</h2>
<ul>
<li>
<p>Fiender oppfører seg faktisk ganske likt plattformer. De vil også bevege seg
frem og tilbake. Forskjellen er at i stedet for å følge etter om vi er borti
en fiende skal vi tape spillet.</p>
<p>Lag en ny fiendefigur. Tegn denne gjerne selv.</p>
</li>
<li>
<p>Følg de samme stegene som for plattformen slik at fienden beveger seg frem og
tilbake. Det vil si at du må kopiere <code>sjekk_sensor</code>- og
<code>vis_animasjon</code>-skriptene, lage nye variabler, definere en ny <code class="blockmoreblocks">start fiende</code>-kloss og lage et <code>flytt_figur</code>-skript.</p>
</li>
<li>
<p>For å sjekke om fienden tar oss kan vi endre på <code>sjekk sensor</code>-skriptet. Om du
for eksempel skriver</p>
<pre><code class="blocks">når jeg mottar [sjekk sensor v]
hvis &lt;berører [Sensor - fot v]?&gt;
    sett [sensor - fot v] til [ja]
    slett denne klonen
ellers
    hvis &lt;berører [Sensor - hode v]?&gt;
        send melding [tap v]
    slutt
    hvis &lt;berører [Sensor - venstre v]?&gt;
        send melding [tap v]
    slutt
    hvis &lt;berører [Sensor - høyre v]?&gt;
        send melding [tap v]
    slutt
slutt
</code></pre>
<p>vil vi kunne fjerne fienden ved å hoppe på ham (vi berører ham med foten),
mens vi taper om han berører oss på de andre sensorene først.</p>
</li>
<li>
<p>Lag en effekt om meldingen <code>tap</code> blir sendt. La gjerne denne sende meldingen
<code>avslutt brett</code> etterpå slik at brett blir ryddet opp.</p>
</li>
</ul>
</section>
</section>
<section class="activity" id="steg-4-videreutvikling-av-spillet">
<h1 class="activity" id="steg-4-videreutvikling-av-spillet">Steg 4: Videreutvikling av spillet</h1>
<p><em>Om du har gjort alle delene har du nå et ganske avansert spill! Forhåpentligvis
har du fortsatt litt oversikt over hvordan ting henger sammen slik at du kan
fortsette å utvikle spillet ditt slik du ønsker!</em></p>
<section class="check" id="ideer-til-videreutvikling">
<h2 class="check" id="ideer-til-videreutvikling">Ideer til videreutvikling</h2>
<ul>
<li>
<p>Du kan videreutvikle dette spillet på mange måter: Flere animasjoner! Flere
typer mursteiner og ting gjemt inne i mursteinene! Flere fiender! Flere
nivåer! Bruk fantasien!</p>
</li>
<li>
<p>Legg på spennende lydeffekter. Husk at du kan ta opp dine egne lyder også, du
trenger ikke bare bruke lydene som er i Scratch-biblioteket.</p>
</li>
<li>
<p>Lag en intro til spillet, som forteller hva det handler om. Kanskje du kan
lage en liten animasjon som vises når man starter spillet?</p>
</li>
<li>
<p>Tell liv. Det er jo alltid kjedelig å måtte begynne spillet helt på nytt om
man er uheldig og blir fanget av en fiende. Kanskje man bare kan miste et liv,
men fortsette spillet omtrent der man tapte?</p>
</li>
<li>
<p>Ta tiden! Hva med å legge inn en tidsbegrensning på hvert nivå? Dette kan du
gjøre med en ny <code class="b">(tid)</code>-variabel.</p>
</li>
</ul>
<p>Husk også på at du kan velge å ta med deler av dette spillet i dine andre
spill. Kanskje vil du ha med litt animasjon eller bakgrunnsskrolling. Nå vet du hvordan!</p>
<!-- # Oppsummering {.activity} -->
</section>
</section>
</div><div class="improve"><h3>Forbedre denne siden</h3><p>Funnet en feil? Kunne noe vært bedre? Hvis ja, vennligst gi oss tilbakemelding ved å lage en sak på Github eller fiks feilen selv om du kan. Vi er takknemlige for enhver tilbakemelding!</p><a href="https://github.com/kodeklubben/oppgaver/issues/new?title=Scratch: Jumpman, del 4 - Brettdesign&amp;body=Beskriv ditt problem..." class="issue">Rapporter et problem</a><a href="https://github.com/kodeklubben/oppgaver/tree/master/src/scratch/jumpman" class="code">Vis koden og fiks selv</a></div></div><div class="col-xs-12"><div id="footer" class="clearfix"><div class="license"><p><strong data-i18n="html=layout.license">Lisens</strong><strong>:</strong></p><a rel="license" data-i18n="href=layout.licenseUrl" href="http://creativecommons.org/licenses/by-sa/4.0/deed.no">CC BY-SA 4.0</a></div><div class="author"><p><strong data-i18n="html=layout.author">Forfatter</strong><strong>:</strong></p><p>Geir Arne Hjelle</p>
</div></div></div></div></div><div class="intro-question modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" data-dismiss="modal" aria-label="Close" class="close"><span aria-hidden="true">&times;</span></button><h4 data-i18n="html=layout.greeting" class="modal-title">Hei der!</h4></div><div class="modal-body"><p data-i18n="html=layout.askTour">Ser ut som dette er ditt første besøk, vil du ha en omvisning?</p></div><div class="modal-footer"><button data-i18n="html=layout.yes" class="btn btn-success">Ja!</button><button data-dismiss="modal" data-i18n="html=layout.no" class="btn btn-danger">Nei takk</button></div></div></div></div><script src="../../assets/vendor.min.js"></script><script src="../../assets/script.min.js"></script><script>$(document).ready(function(){
  $('pre').has('code.blocks').addClass('blocks');
  scratchblocks2.load_language(scratchblocks2._translations['nb']);
  scratchblocks2.parse('code.blocks');
  scratchblocks2.parse('code.b', {inline: true});
});</script></body></html>